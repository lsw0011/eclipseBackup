//============================================================================
// Name        : gloriousPrimes.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <iostream>
#include <stdio.h>
#include <string.h>
#include <vector>
#include <utility>

using namespace std;
vector< pair<int, int> > order;
vector< vector< int > > validStrings;

int primes[14] = {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43} ;
int count = 0;

bool is_prime(int n){
	int test = n / 10000 + n % 10000 / 1000 + n % 1000 / 100 + n % 100 / 10 + n % 10;
	for(int i: primes){
		if(test == i){
			return true;
		}
	}
	return false;
}

int main() {
	for(int i = 1; i < 100000; i++){
		if(is_prime(i % 1000)
			&& is_prime(i / 10 % 1000)
			&& is_prime(i / 100 % 1000)
			&& is_prime(i % 10000)
			&& is_prime(i / 10 % 10000)
			&& is_prime(i)){
				order.push_back(make_pair(i, count));
				count++;
			}
	}
	for(auto pair1: order){
		int str1 = pair1.first;
		if(str1 < 10000){
			continue;
		}
//		int orginalStr1 = str1;
		str1 = str1 % 10000;
		for(auto pair2: order){
			int str2 = pair2.first;
			int orginalStr2 = str2;
//			cout << " " << str2 << endl;
			str2 = str2 / 10;
			if(str1 == str2){
//				cout << orginalStr1 << " " << orginalStr2 << endl;
//				count++;
			}

		}
	}
	cout << count;
}


